<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Jirka Hubáček is a data engineer specialising in resilient data platforms, dependable automation, and team mentorship.">
  <title>Jirka Hubáček – Data Engineer & Developer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <a class="skip-link" href="#main-content">Skip to main content</a>
  <header>
    <div class="nav-container">
      <button class="nav-logo" type="button" aria-label="Surprise portal" data-easter-egg>
        <img src="assets/images/avatar.webp" width="48" height="48" alt="Portrait of Jirka Hubáček">
      </button>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#about">About</a></li>
          <li><a href="#skills">Skills</a></li>
          <li><a href="#experience">Experience</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#education">Education</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content">
    <section class="hero" id="hero">
      <div class="hero-content">
        <h1>Jirka Hubáček</h1>
        <h2>Data Engineer</h2>
        <p data-text-source="assets/content/hero-intro.txt"></p>
        <a href="#contact" class="cta">Contact</a>
      </div>
    </section>

    <section class="about" id="about">
      <h3>About</h3>
      <div data-text-source="assets/content/about.txt" data-text-mode="paragraphs"></div>
    </section>

    <section class="skills" id="skills">
      <h3>Skills &amp; Expertise</h3>
      <div class="skills-grid">
        <div>
          <h6>Technical Expertise</h6>
          <p>Python, SQL, Redshift, Teradata, SQL Server, Docker, Tableau, Iceberg, S3, Athena, Glue, Kinesis, Terraform, Kubernetes, DevOps workflows.</p>
        </div>
        <div>
          <h6>Certifications</h6>
          <p>AWS Practitioner, MCITP for SQL Server, Teradata Physical Design, Teradata SQL, Teradata Basics.</p>
        </div>
        <div>
          <h6>Languages</h6>
          <p>English, German, Czech.</p>
        </div>
      </div>
    </section>

    <section id="experience">
      <h3>Experience</h3>
      <div class="experience">
        <div class="experience-card">
          <h4>Senior Data Engineer</h4>
          <h5>N26</h5>
          <div data-text-source="assets/content/experience-n26.txt" data-text-mode="paragraphs"></div>
        </div>
        <div class="experience-card">
          <h4>Data Engineer / Manager</h4>
          <h5>EY Data &amp; Analytics APAC</h5>
          <div data-text-source="assets/content/experience-ey.txt" data-text-mode="paragraphs"></div>
        </div>
        <div class="experience-card">
          <h4>Platform Architect</h4>
          <h5>Mercedes‑Benz AG</h5>
          <div data-text-source="assets/content/experience-mercedes.txt" data-text-mode="paragraphs"></div>
        </div>
        <div class="experience-card">
          <h4>Data Engineer / Consultant</h4>
          <h5>Teradata &amp; Think Big</h5>
          <div data-text-source="assets/content/experience-teradata.txt" data-text-mode="paragraphs"></div>
        </div>
        <div class="experience-card">
          <h4>Consultant</h4>
          <h5>Clever Decision</h5>
          <div data-text-source="assets/content/experience-clever-decision.txt" data-text-mode="paragraphs"></div>
        </div>
      </div>
    </section>

    <section class="projects" id="projects">
      <h3>Personal Projects</h3>
      <ul>
        <li><strong>Automated Photo Publishing App</strong> – A photo sharing application posting daily to my Bluesky account. It's a Python app that uses AWS Rekognition for image analysis, Google Maps API for reverse geolocation, and an automated hashtag generator. Deployed using AWS ECR, ECS, and S3.</li>
        <li><strong>Telegram Companion Bot</strong> – Python bot that receives photo uploads via Telegram and pushes them directly to S3, feeding into the automated photo publishing pipeline.</li>
      </ul>
    </section>

    <section class="education" id="education">
      <h3>Education</h3>
      <p class="degree">Bachelor of Computer Science</p>
      <p class="institution">Unicorn University, Prague</p>
      <div data-text-source="assets/content/education.txt" data-text-mode="paragraphs"></div>
    </section>

    <section class="contact" id="contact">
      <h3>Contact</h3>
      <div class="contact-info">
        <div class="contact-item">
          <h6>LinkedIn</h6>
          <p><a href="https://linkedin.com/in/jirkahubacek" target="_blank" rel="noopener">linkedin.com/in/jirkahubacek</a></p>
        </div>
        <div class="contact-item">
          <h6>GitHub</h6>
          <p><a href="https://github.com/hubacekjirka" target="_blank" rel="noopener">github.com/hubacekjirka</a></p>
        </div>
        <div class="contact-item">
          <h6>Bluesky</h6>
          <p><a href="https://bsky.app/profile/hubacekjirka.bsky.social" target="_blank" rel="noopener">@hubacekjirka.bsky.social</a></p>
        </div>
      </div>
    </section>
  </main>

  <div class="portal-overlay" id="dark-side" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="dark-side-title" hidden>
    <div class="portal-stars" aria-hidden="true"></div>
    <div class="portal-twinkling" aria-hidden="true"></div>
    <div class="portal-container">
      <section class="portal-profile">
        <div class="portal-card">
          <div class="portal-hologram">
            <img src="darth_vader.png" alt="Darth Vader mask" class="portal-vader-image">
          </div>
          <p class="portal-welcome-message" id="dark-side-title">Welcome to the Dark Side</p>
          <button type="button" class="portal-return" data-close-portal>Return to the Light</button>
        </div>
      </section>
    </div>
  </div>

  <footer>
    © <span id="year"></span> Jirka Hubáček. All rights reserved.
  </footer>
  <script>
    // Dynamically set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    const portalButton = document.querySelector('[data-easter-egg]');
    const overlay = document.getElementById('dark-side');
    const closePortalButton = overlay?.querySelector('[data-close-portal]');
    let previousFocus = null;

    const finishClosing = () => {
      if (!overlay) return;
      overlay.setAttribute('hidden', '');
    };

    const closePortal = () => {
      if (!overlay) return;
      overlay.classList.remove('is-active');
      overlay.setAttribute('aria-hidden', 'true');
      overlay.addEventListener('transitionend', finishClosing, { once: true });
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        finishClosing();
      }
      document.body.classList.remove('is-portal-open');
      if (previousFocus && typeof previousFocus.focus === 'function') {
        previousFocus.focus();
      }
      previousFocus = null;
    };

    const openPortal = () => {
      if (!overlay) return;
      previousFocus = document.activeElement;
      overlay.removeEventListener('transitionend', finishClosing);
      overlay.removeAttribute('hidden');
      overlay.setAttribute('aria-hidden', 'false');
      document.body.classList.add('is-portal-open');
      requestAnimationFrame(() => {
        overlay.classList.add('is-active');
        closePortalButton?.focus();
      });
    };

    portalButton?.addEventListener('click', openPortal);
    closePortalButton?.addEventListener('click', closePortal);
    overlay?.addEventListener('click', (event) => {
      if (event.target === overlay) {
        closePortal();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && overlay?.classList.contains('is-active')) {
        closePortal();
      }
    });

    const paragraphSeparator = /\r?\n\s*\r?\n/;

    const hydrateTextSource = async (element) => {
      const source = element.getAttribute('data-text-source');
      const mode = element.getAttribute('data-text-mode') || 'inline';
      if (!source) {
        return;
      }

      try {
        const response = await fetch(source);
        if (!response.ok) {
          throw new Error(`Failed to fetch ${source}`);
        }
        const rawText = (await response.text()).trim();
        if (!rawText) {
          return;
        }

        if (mode === 'paragraphs') {
          const paragraphs = rawText.split(paragraphSeparator)
            .map((line) => line.trim())
            .filter(Boolean);
          element.innerHTML = '';
          paragraphs.forEach((paragraph) => {
            const p = document.createElement('p');
            p.textContent = paragraph;
            element.appendChild(p);
          });
        } else {
          element.textContent = rawText;
        }
      } catch (error) {
        console.error(error);
        element.setAttribute('data-text-error', 'true');
      }
    };

    const textSourceTargets = document.querySelectorAll('[data-text-source]');
    textSourceTargets.forEach((element) => {
      hydrateTextSource(element);
    });
  </script>
</body>
</html>
